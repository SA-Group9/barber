<div class="bg-color">
    <div class="container">
        <div class="table-wrapper">

            <!-- หัวข้อ + search -->
            <div class="d-flex align-items-center justify-content-start">
                <h3 class="queue-title">ประวัติการจองคิว</h3>
            </div>

            <div class="d-flex justify-content-center gap-3">
                <div class="filter-bar">
                    <div class="filter-item">
                        <label class="form-label mb-1">วันที่เริ่ม</label>
                        <input type="date" class="form-control filter-input" [(ngModel)]="startDate" />
                    </div>

                    <div class="filter-item">
                        <label class="form-label mb-1">วันที่สิ้นสุด</label>
                        <input type="date" class="form-control filter-input" [(ngModel)]="endDate" />
                    </div>

                    <div class="filter-item">
                        <label class="form-label mb-1">ช่าง</label>
                        <select class="form-select filter-input" [(ngModel)]="selectedBarber">
                            <option value="">ทั้งหมด</option>
                            <option *ngFor="let barber of barbers" [value]="barber">{{ barber }}</option>
                        </select>
                    </div>

                    <div class="filter-item">
                        <label class="form-label mb-1">สถานะ</label>
                        <select class="form-select filter-input" [(ngModel)]="selectedStatus">
                            <option value="">ทั้งหมด</option>
                            <option value="queuing">กำลังรอ</option>
                            <option value="done">เสร็จสิ้น</option>
                            <option value="canceled">ยกเลิก</option>
                        </select>
                    </div>

                    <div class="filter-item search-item">
                        <label class="form-label mb-1">ค้นหา</label>
                        <div class="input-group">
                            <input class="form-control search-box" type="text" placeholder="ค้นหา"
                                [(ngModel)]="searchTerm" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- Table Scroll -->
            <div class="table-scroll">
                <div class="div-table">

                    <!-- Header -->
                    <div class="div-table-row header">
                        <div class="div-table-cell">วัน-เวลา</div>
                        <div class="div-table-cell">ผู้แก้ไข</div>
                        <div class="div-table-cell">หมายเลขคิว</div>
                        <div class="div-table-cell">ช่าง</div>
                        <div class="div-table-cell">ประเภทบริการ</div>
                        <div class="div-table-cell">ชื่อลูกค้า</div>
                        <div class="div-table-cell">สถานะ</div>
                    </div>

                    <!-- Rows -->
                    <div class="div-table-row" *ngFor="let queue of queues">
                        <div class="div-table-cell">{{queue.latestEdit}}</div>
                        <div class="div-table-cell">{{queue.editedBy}}</div>
                        <div class="div-table-cell">{{queue.queueNumber}}</div>
                        <div class="div-table-cell">{{queue.barber}}</div>
                        <div class="div-table-cell">{{queue.service}}</div>
                        <div class="div-table-cell">{{queue.firstName}} {{queue.lastName}}</div>
                        <div class="div-table-cell">
                            <div class="queue-status" [ngClass]="{'queueing': queue.status === 'queuing',
                                                                            'done': queue.status === 'done',
                                                                            'canceled': queue.status === 'canceled'
                                                                            }">
                                {{ translateStatus(queue.status) }}
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>
</div>